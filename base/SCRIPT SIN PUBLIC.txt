-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;
CREATE TABLE IF NOT EXISTS "ARTICULO"
(
    "ID_ARTICULO" serial NOT NULL,
    "DESCRIPCION" text COLLATE pg_catalog."default",
    "PRECIO1" numeric,
    "PRECIO2" numeric,
    "PRECIO3" numeric,
    "ULTIMO_PRECIO" date,
    "CODIGO" text COLLATE pg_catalog."default",
    "ID_COLOR" INT,
    "ID_MEDIDA" INT,
    "ID_FAMILIA" INT,
    "ID_FABICANTE" INT,
    "ID_CATEGORIA" INT NOT NULL,
    CONSTRAINT "ARTICULO_pkey" PRIMARY KEY ("ID_ARTICULO")
);

CREATE TABLE IF NOT EXISTS "ARTICULO_INGRESO"
(
    "ID_ARTICULO_INGRESO" serial NOT NULL,
    "ID_ARTICULO" INT,
    "ID_INGRESO" INT,
    "CANTIDAD" INT,
    CONSTRAINT "ARTICULO_INGRESO_pkey" PRIMARY KEY ("ID_ARTICULO_INGRESO")
);

CREATE TABLE IF NOT EXISTS "ARTICULO_PRESUPUESTO"
(
    "ID_ARTICULO_PRESUPUESTO" serial NOT NULL,
    "ID_PRESUPUESTO" INT,
    "ID_ARTICULO" INT,
    "PRECIO_UNITARIO" numeric,
    "CANTIDAD" INT,
    "PENDIENTE" INT,
    CONSTRAINT "ARTICULO_PRESUPUESTO_pkey" PRIMARY KEY ("ID_ARTICULO_PRESUPUESTO"),
    CONSTRAINT "ID_ARTICULO" UNIQUE ("ID_ARTICULO")
        INCLUDE("ID_ARTICULO"),
    CONSTRAINT "ID_PRESUPUESTO" UNIQUE ("ID_PRESUPUESTO")
        INCLUDE("ID_PRESUPUESTO")
);

CREATE TABLE IF NOT EXISTS "CATEGORIA"
(
    "ID_CATEGORIA" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "CATEGORIA_pkey" PRIMARY KEY ("ID_CATEGORIA")
);

CREATE TABLE IF NOT EXISTS "CLIENTE"
(
    "ID_CLIENTE" serial NOT NULL,
    "RAZON_SOCIAL" text COLLATE pg_catalog."default",
    "TELEFONO" text COLLATE pg_catalog."default",
    "CONTACTO" text COLLATE pg_catalog."default",
    "DOMICILIO" text COLLATE pg_catalog."default",
    "LOCALIDAD" text COLLATE pg_catalog."default",
    "ID_PROVINCIA" INT,
    "CUIT" text COLLATE pg_catalog."default",
    "ID_CONDICION_AFIP" INT,
    CONSTRAINT "CLIENTE_pkey" PRIMARY KEY ("ID_CLIENTE")
);

CREATE TABLE IF NOT EXISTS "COLOR"
(
    "ID_COLOR" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "COLOR_pkey" PRIMARY KEY ("ID_COLOR")
);

CREATE TABLE IF NOT EXISTS "CONDICION_AFIP"
(
    "ID_CONDICION" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "CONDICION_AFIP_pkey" PRIMARY KEY ("ID_CONDICION")
);

CREATE TABLE IF NOT EXISTS "ESTADO_PEDIDO_PRODUCCION"
(
    "ID_ESTADO_PRODUCCION" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "ESTADO_PEDIDO_PRODUCCION_pkey" PRIMARY KEY ("ID_ESTADO_PRODUCCION")
);

CREATE TABLE IF NOT EXISTS "ESTADO_PRESUPUESTO"
(
    "ID_ESTADO" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "ESTADO_PRESUPUESTO_pkey" PRIMARY KEY ("ID_ESTADO")
);

CREATE TABLE IF NOT EXISTS "FABRICANTE"
(
    "ID_FABRICANTE" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "FABRICANTE_pkey" PRIMARY KEY ("ID_FABRICANTE")
);

CREATE TABLE IF NOT EXISTS "FACTURA"
(
    "ID_FACTURA" serial NOT NULL,
    "ID_CLIENTE" INT,
    "FECHA" date,
    "TOTAL" numeric,
    CONSTRAINT "FACTURA_pkey" PRIMARY KEY ("ID_FACTURA")
);

CREATE TABLE IF NOT EXISTS "FACTURA_ARTICULO"
(
    "ID_FACTURA_ARTICULO" serial NOT NULL,
    "ID_FACTURA" INT NOT NULL,
    "ID_ARTICULO" INT NOT NULL,
    "CANTIDAD" INT NOT NULL,
    "PRECIO" numeric NOT NULL,
    CONSTRAINT "FACTURA_PRESUPUESTO_pkey" PRIMARY KEY ("ID_FACTURA_ARTICULO")
);

CREATE TABLE IF NOT EXISTS "FAMILIA"
(
    "ID_FAMILIA" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "FAMILIA_pkey" PRIMARY KEY ("ID_FAMILIA")
);

CREATE TABLE IF NOT EXISTS "INGRESO"
(
    "ID_INGRESO" serial NOT NULL,
    "FECHA" date,
    "ID_FABRICANTE" INT,
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "INGRESO_pkey" PRIMARY KEY ("ID_INGRESO")
);

CREATE TABLE IF NOT EXISTS "MEDIDA"
(
    "ID_MEDIDA" serial NOT NULL,
    "CODIGO" text COLLATE pg_catalog."default",
    "DESCRIPCION" text COLLATE pg_catalog."default",
    CONSTRAINT "MEDIDA_pkey" PRIMARY KEY ("ID_MEDIDA")
);

CREATE TABLE IF NOT EXISTS "PEDIDO_PRODUCCION"
(
    "ID_PEDIDO_PRODUCCION" serial NOT NULL,
    "FECHA" date,
    "ID_FABRICANTE" INT,
    "ID_ESTADO_PEDIDO_PROD" INT,
    CONSTRAINT "PEDIDO_PRODUCCION_pkey" PRIMARY KEY ("ID_PEDIDO_PRODUCCION")
);

CREATE TABLE IF NOT EXISTS "PRESUPUESTO"
(
    "ID_PRESUPUESTO" serial NOT NULL,
    "FECHA_PRESUPUESTO" date,
    "ID_CLIENTE" INT,
    "EXMIR_IVA" boolean,
    "ID_ESTADO" INT,
    "TOTAL_PRESUPUESTO" INT,
    "ID_FACTURA" INT,
    CONSTRAINT "PRESUPUESTO_pkey" PRIMARY KEY ("ID_PRESUPUESTO")
);

CREATE TABLE IF NOT EXISTS "PRODUCCION_ARTICULO"
(
    "ID_PRODUCCION_ARTICULO" serial NOT NULL,
    "ID_ARTICULO" INT,
    "ID_PEDIDO_PRODUCCION" INT,
    "CANTIDAD" INT,
    "CANT_PENDIENTE" INT,
    "ID_ARTICULO_PRESUPUESTO" INT,
    CONSTRAINT "PRODUCCION_ARTICULO_pkey" PRIMARY KEY ("ID_PRODUCCION_ARTICULO")
);

ALTER TABLE IF EXISTS "ARTICULO"
    ADD CONSTRAINT "CATEGORIA" FOREIGN KEY ("ID_CATEGORIA")
    REFERENCES "CATEGORIA" ("ID_CATEGORIA") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "fki_CATEGORIA"
    ON "ARTICULO"("ID_CATEGORIA");


ALTER TABLE IF EXISTS "ARTICULO"
    ADD CONSTRAINT "COLOR" FOREIGN KEY ("ID_COLOR")
    REFERENCES "COLOR" ("ID_COLOR") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "ARTICULO"
    ADD CONSTRAINT "FABRICANTE" FOREIGN KEY ("ID_FABICANTE")
    REFERENCES "FABRICANTE" ("ID_FABRICANTE") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "fki_FABRICANTE"
    ON "ARTICULO"("ID_FABICANTE");


ALTER TABLE IF EXISTS "ARTICULO"
    ADD CONSTRAINT "FAMILIA" FOREIGN KEY ("ID_FAMILIA")
    REFERENCES "FAMILIA" ("ID_FAMILIA") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "fki_FAMILIA"
    ON "ARTICULO"("ID_FAMILIA");


ALTER TABLE IF EXISTS "ARTICULO"
    ADD CONSTRAINT "MEDIDA" FOREIGN KEY ("ID_MEDIDA")
    REFERENCES "MEDIDA" ("ID_MEDIDA") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "ARTICULO_INGRESO"
    ADD CONSTRAINT "ARTICULO" FOREIGN KEY ("ID_ARTICULO")
    REFERENCES "ARTICULO" ("ID_ARTICULO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "ARTICULO_INGRESO"
    ADD CONSTRAINT "INGRESO" FOREIGN KEY ("ID_INGRESO")
    REFERENCES "INGRESO" ("ID_INGRESO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "fki_INGRESO"
    ON "ARTICULO_INGRESO"("ID_INGRESO");


ALTER TABLE IF EXISTS "ARTICULO_PRESUPUESTO"
    ADD CONSTRAINT "ARTICULO" FOREIGN KEY ("ID_ARTICULO")
    REFERENCES "ARTICULO" ("ID_ARTICULO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "ID_ARTICULO"
    ON "ARTICULO_PRESUPUESTO"("ID_ARTICULO");


ALTER TABLE IF EXISTS "ARTICULO_PRESUPUESTO"
    ADD CONSTRAINT "PRESUPUESTO" FOREIGN KEY ("ID_PRESUPUESTO")
    REFERENCES "PRESUPUESTO" ("ID_PRESUPUESTO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "ID_PRESUPUESTO"
    ON "ARTICULO_PRESUPUESTO"("ID_PRESUPUESTO");


ALTER TABLE IF EXISTS "CLIENTE"
    ADD CONSTRAINT "CONDICION_AFIP" FOREIGN KEY ("ID_CONDICION_AFIP")
    REFERENCES "CONDICION_AFIP" ("ID_CONDICION") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;
CREATE INDEX IF NOT EXISTS "fki_CONDICION_AFIP"
    ON "CLIENTE"("ID_CONDICION_AFIP");


ALTER TABLE IF EXISTS "FACTURA"
    ADD CONSTRAINT "CLIENTE" FOREIGN KEY ("ID_CLIENTE")
    REFERENCES "CLIENTE" ("ID_CLIENTE") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "FACTURA_ARTICULO"
    ADD CONSTRAINT "ARTICULO" FOREIGN KEY ("ID_ARTICULO")
    REFERENCES "ARTICULO" ("ID_ARTICULO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "fki_ARTICULO"
    ON "FACTURA_ARTICULO"("ID_ARTICULO");


ALTER TABLE IF EXISTS "FACTURA_ARTICULO"
    ADD CONSTRAINT "FACTURA" FOREIGN KEY ("ID_FACTURA_ARTICULO")
    REFERENCES "FACTURA" ("ID_FACTURA") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS "FACTURA_PRESUPUESTO_pkey"
    ON "FACTURA_ARTICULO"("ID_FACTURA_ARTICULO");


ALTER TABLE IF EXISTS "INGRESO"
    ADD CONSTRAINT "FABRICANTE" FOREIGN KEY ("ID_FABRICANTE")
    REFERENCES "FABRICANTE" ("ID_FABRICANTE") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "PEDIDO_PRODUCCION"
    ADD CONSTRAINT "ESSTADO_PEDIDO_PRODUCCION" FOREIGN KEY ("ID_ESTADO_PEDIDO_PROD")
    REFERENCES "ESTADO_PEDIDO_PRODUCCION" ("ID_ESTADO_PRODUCCION") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS "PEDIDO_PRODUCCION"
    ADD CONSTRAINT "FABRICANTE" FOREIGN KEY ("ID_FABRICANTE")
    REFERENCES "FABRICANTE" ("ID_FABRICANTE") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "PRESUPUESTO"
    ADD CONSTRAINT "CLIENTE_FK" FOREIGN KEY ("ID_CLIENTE")
    REFERENCES "CLIENTE" ("ID_CLIENTE") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "PRESUPUESTO"
    ADD CONSTRAINT "ESTADO_FK" FOREIGN KEY ("ID_ESTADO")
    REFERENCES "ESTADO_PRESUPUESTO" ("ID_ESTADO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "PRESUPUESTO"
    ADD CONSTRAINT "FACTURA" FOREIGN KEY ("ID_FACTURA")
    REFERENCES "FACTURA" ("ID_FACTURA") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;
CREATE INDEX IF NOT EXISTS "fki_FACTURA"
    ON "PRESUPUESTO"("ID_FACTURA");


ALTER TABLE IF EXISTS "PRODUCCION_ARTICULO"
    ADD CONSTRAINT "ARTICULO" FOREIGN KEY ("ID_ARTICULO")
    REFERENCES "ARTICULO" ("ID_ARTICULO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS "PRODUCCION_ARTICULO"
    ADD CONSTRAINT "ARTICULO_PRESUPUESTO" FOREIGN KEY ("ID_ARTICULO_PRESUPUESTO")
    REFERENCES "ARTICULO_PRESUPUESTO" ("ID_ARTICULO_PRESUPUESTO") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS "PRODUCCION_ARTICULO"
    ADD CONSTRAINT "PRODUCCION_ARTICULO" FOREIGN KEY ("ID_PEDIDO_PRODUCCION")
    REFERENCES "PEDIDO_PRODUCCION" ("ID_PEDIDO_PRODUCCION") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

INSERT INTO "COLOR" ("CODIGO", "DESCRIPCION") VALUES ('BL', 'BLANCO');
INSERT INTO "COLOR" ("CODIGO", "DESCRIPCION") VALUES ('NA', 'ROSA');
INSERT INTO "COLOR" ("CODIGO", "DESCRIPCION") VALUES ('GP', 'GRIS PERLA');


INSERT INTO "CATEGORIA" ("CODIGO", "DESCRIPCION") VALUES ('ALM', 'ALMOHADON');
INSERT INTO "CATEGORIA" ("CODIGO", "DESCRIPCION") VALUES ('CORT', 'CORTINA');
INSERT INTO "CATEGORIA" ("CODIGO", "DESCRIPCION") VALUES ('CAM', 'CAMINOS');

INSERT INTO "CONDICION_AFIP" ("CODIGO", "DESCRIPCION") VALUES ('RI', 'RESPONSABLE INSCRIPTO');
INSERT INTO "CONDICION_AFIP" ("CODIGO", "DESCRIPCION") VALUES ('MO', 'MONOTRIBUTO');
INSERT INTO "CONDICION_AFIP" ("CODIGO", "DESCRIPCION") VALUES ('CI', 'CONSUMIDOR FINAL');

INSERT INTO "ESTADO_PEDIDO_PRODUCCION" ("CODIGO", "DESCRIPCION") VALUES ('COMP', 'COMPLETO');
INSERT INTO "ESTADO_PEDIDO_PRODUCCION" ("CODIGO", "DESCRIPCION") VALUES ('TA', 'TALLER');

INSERT INTO "FABRICANTE" ("CODIGO", "DESCRIPCION") VALUES ('CAR', 'CARMEN');
INSERT INTO "FABRICANTE" ("CODIGO", "DESCRIPCION") VALUES ('LUI', 'LUISA');
INSERT INTO "FABRICANTE" ("CODIGO", "DESCRIPCION") VALUES ('CRISTINA', 'CRISTINA');
INSERT INTO "FABRICANTE" ("CODIGO", "DESCRIPCION") VALUES ('GABY', 'GABRIELA');
INSERT INTO "FABRICANTE" ("CODIGO", "DESCRIPCION") VALUES ('AND', 'ANDREA');


INSERT INTO "FAMILIA" ("CODIGO", "DESCRIPCION") VALUES ('CALA', 'ALMOHADON TUSOR');
INSERT INTO "FAMILIA" ("CODIGO", "DESCRIPCION") VALUES ('PENSAMIENTO', 'ALMOHADON TUSOR VOLADOS');
INSERT INTO "FAMILIA" ("CODIGO", "DESCRIPCION") VALUES ('LILUM', 'ALMOHADON PANA');
INSERT INTO "FAMILIA" ("CODIGO", "DESCRIPCION") VALUES ('LAUREL', 'ALMOHADON GASA DOBLE');

INSERT INTO "MEDIDA" ("CODIGO", "DESCRIPCION") VALUES ('S', '35X50');
INSERT INTO "MEDIDA" ("CODIGO", "DESCRIPCION") VALUES ('M', '50X50');
INSERT INTO "MEDIDA" ("CODIGO", "DESCRIPCION") VALUES ('L', '35X70');
INSERT INTO "MEDIDA" ("CODIGO", "DESCRIPCION") VALUES ('XL', '60X60');
INSERT INTO "MEDIDA" ("CODIGO", "DESCRIPCION") VALUES ('XXL', '50X70');


INSERT INTO "ARTICULO" ("DESCRIPCION","PRECIO1","PRECIO2","PRECIO3","CODIGO","ID_COLOR","ID_MEDIDA","ID_FAMILIA","ID_FABICANTE","ID_CATEGORIA")
VALUES ('ALMOHADON TUSOR BASICO',2190,2090,1990,'ALM','1','1','1','1','1');

INSERT INTO "ARTICULO" ("DESCRIPCION","PRECIO1","PRECIO2","PRECIO3","CODIGO","ID_COLOR","ID_MEDIDA","ID_FAMILIA","ID_FABICANTE","ID_CATEGORIA")
VALUES ('ALMOHADON TUSOR BASICO',2190,2090,1990,'ALM','2','1','1','1','1');

INSERT INTO "ARTICULO" ("DESCRIPCION","PRECIO1","PRECIO2","PRECIO3","CODIGO","ID_COLOR","ID_MEDIDA","ID_FAMILIA","ID_FABICANTE","ID_CATEGORIA")
VALUES ('ALMOHADON TUSOR BASICO',2190,2090,1990,'ALM','3','1','1','1','1');

INSERT INTO "CLIENTE" ("RAZON_SOCIAL","TELEFONO","CONTACTO","DOMICILIO","LOCALIDAD","ID_PROVINCIA","CUIT","ID_CONDICION_AFIP")
VALUES ('AGOLTI ANIBAL RUBEN', ' 3775 40-0865','RUBEN', 'SAN MARTIN 789','MOCORETA', 1,'20-20086667-4', 1);

INSERT INTO "CLIENTE" ("RAZON_SOCIAL","TELEFONO","CONTACTO","DOMICILIO","LOCALIDAD","ID_PROVINCIA","CUIT","ID_CONDICION_AFIP")
VALUES ('ALDEA DE SUEÑOS S.R.L.', '351 3920440','Mariana', 'RECTA MARTINOLLI 7175','ARGUELLO', 1,'30-71490831-2', 1);



END;