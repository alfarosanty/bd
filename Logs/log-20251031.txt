2025-10-31 08:15:57.474 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 08:15:57.748 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 08:15:57.752 -03:00 [INF] Hosting environment: Development
2025-10-31 08:15:57.752 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 10:22:11.409 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 10:22:11.639 -03:00 [INF] Creating key {4c2fe998-2f48-4f6a-8fe2-773cf83d1675} with creation date 2025-10-31 13:22:11Z, activation date 2025-10-31 13:22:11Z, and expiration date 2026-01-29 13:22:11Z.
2025-10-31 10:22:11.756 -03:00 [INF] Writing data to file 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys\key-4c2fe998-2f48-4f6a-8fe2-773cf83d1675.xml'.
2025-10-31 10:22:12.235 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 10:22:12.253 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 10:22:12.256 -03:00 [INF] Hosting environment: Development
2025-10-31 10:22:12.256 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 10:58:06.925 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 10:58:07.714 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 10:58:07.730 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 10:58:07.732 -03:00 [INF] Hosting environment: Development
2025-10-31 10:58:07.732 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 10:58:50.558 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/index.html - -
2025-10-31 10:58:51.721 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/index.html - - - 200 - text/html;charset=utf-8 1189.2476ms
2025-10-31 10:58:52.052 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui.css - -
2025-10-31 10:58:52.239 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui-bundle.js - -
2025-10-31 10:58:52.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui-standalone-preset.js - -
2025-10-31 10:58:52.329 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-31 10:58:52.330 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui.css - - - 200 143632 text/css 277.8249ms
2025-10-31 10:58:52.363 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-31 10:58:52.383 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 142.0661ms
2025-10-31 10:58:52.384 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-31 10:58:52.384 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 178.4272ms
2025-10-31 10:58:52.961 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - -
2025-10-31 10:58:53.062 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/favicon-32x32.png - -
2025-10-31 10:58:53.063 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-10-31 10:58:53.063 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/favicon-32x32.png - - - 200 628 image/png 0.8865ms
2025-10-31 10:58:53.818 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 856.9250ms
2025-10-31 10:59:10.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Usuario - -
2025-10-31 10:59:10.897 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 10:59:11.116 -03:00 [INF] Executing endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 10:59:11.251 -03:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsuarios() on controller UsuarioController (BlumeAPI).
2025-10-31 11:00:41.020 -03:00 [INF] Executed action UsuarioController.GetUsuarios (BlumeAPI) in 89737.1383ms
2025-10-31 11:00:41.040 -03:00 [INF] Executed endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:00:41.045 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Method 'get_QueryProvider' in type 'Microsoft.EntityFrameworkCore.Storage.Internal.RelationalDatabaseFacadeDependencies' from assembly 'Microsoft.EntityFrameworkCore.Relational, Version=6.0.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60' does not have an implementation.
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkRelationalServicesBuilder.TryAddCoreServices()
   at Microsoft.Extensions.DependencyInjection.NpgsqlServiceCollectionExtensions.AddEntityFrameworkNpgsql(IServiceCollection serviceCollection)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlOptionsExtension.ApplyServices(IServiceCollection services)
   at Microsoft.EntityFrameworkCore.Internal.ServiceProviderCache.ApplyServices(IDbContextOptions options, ServiceCollection services)
   at Microsoft.EntityFrameworkCore.Internal.ServiceProviderCache.<GetOrAdd>g__BuildServiceProvider|4_1(IDbContextOptions _, ValueTuple`2 arguments)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd[TArg](TKey key, Func`3 valueFactory, TArg factoryArgument)
   at Microsoft.EntityFrameworkCore.Internal.ServiceProviderCache.GetOrAdd(IDbContextOptions options, Boolean providerRequired)
   at Microsoft.EntityFrameworkCore.DbContext..ctor(DbContextOptions options)
   at AppDbContext..ctor(DbContextOptions`1 options) in G:\Desa\programa\bd\Data\AppDBContext.cs:line 6
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method4(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-10-31 11:00:41.091 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Usuario - - - 500 - text/plain;+charset=utf-8 90229.8073ms
2025-10-31 11:04:18.693 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:04:19.321 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:04:19.336 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:04:19.338 -03:00 [INF] Hosting environment: Development
2025-10-31 11:04:19.338 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:05:24.418 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/index.html - -
2025-10-31 11:05:25.442 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/index.html - - - 200 - text/html;charset=utf-8 1054.5625ms
2025-10-31 11:05:26.370 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - -
2025-10-31 11:05:27.129 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 759.1096ms
2025-10-31 11:05:34.751 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Usuario - -
2025-10-31 11:05:34.782 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:05:34.948 -03:00 [INF] Executing endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:05:35.057 -03:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsuarios() on controller UsuarioController (BlumeAPI).
2025-10-31 11:05:39.491 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:05:42.117 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AppDbContext'.
System.MethodAccessException: Attempt by method 'Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.get_CurrentAmbientTransaction()' to access method 'Npgsql.NpgsqlConnection.get_Settings()' failed.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.get_CurrentAmbientTransaction()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.HandleAmbientTransactions()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.MethodAccessException: Attempt by method 'Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.get_CurrentAmbientTransaction()' to access method 'Npgsql.NpgsqlConnection.get_Settings()' failed.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.get_CurrentAmbientTransaction()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.HandleAmbientTransactions()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-10-31 11:10:56.101 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:10:56.724 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:10:56.740 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:10:56.742 -03:00 [INF] Hosting environment: Development
2025-10-31 11:10:56.742 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:11:21.109 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Usuario - -
2025-10-31 11:11:21.319 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:11:21.516 -03:00 [INF] Executing endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:11:21.636 -03:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsuarios() on controller UsuarioController (BlumeAPI).
2025-10-31 11:11:25.894 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:11:28.762 -03:00 [INF] Executed DbCommand (325ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
2025-10-31 11:11:28.943 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BlumeAPI.Usuario, BlumeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-31 11:11:29.594 -03:00 [INF] Executed action UsuarioController.GetUsuarios (BlumeAPI) in 7936.6247ms
2025-10-31 11:11:29.600 -03:00 [INF] Executed endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:11:29.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Usuario - - - 200 - application/json;+charset=utf-8 8562.2945ms
2025-10-31 11:14:29.144 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:14:29.792 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:14:29.808 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:14:29.810 -03:00 [INF] Hosting environment: Development
2025-10-31 11:14:29.810 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:15:12.518 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116
2025-10-31 11:15:12.637 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:15:12.770 -03:00 [INF] CORS policy execution successful.
2025-10-31 11:15:12.847 -03:00 [INF] Executing endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:15:13.022 -03:00 [INF] Route matched with {action = "CrearUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearUsuario(BlumeAPI.Usuario) on controller UsuarioController (BlumeAPI).
2025-10-31 11:15:14.617 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-31 11:15:14.844 -03:00 [INF] Executed action UsuarioController.CrearUsuario (BlumeAPI) in 1801.7263ms
2025-10-31 11:15:14.857 -03:00 [INF] Executed endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:15:14.880 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116 - 400 - application/problem+json;+charset=utf-8 2386.2542ms
2025-10-31 11:20:15.608 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:20:16.206 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:20:16.229 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:20:16.232 -03:00 [INF] Hosting environment: Development
2025-10-31 11:20:16.232 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:21:12.998 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/index.html - -
2025-10-31 11:21:14.144 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/index.html - - - 200 - text/html;charset=utf-8 1166.5586ms
2025-10-31 11:21:14.420 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - -
2025-10-31 11:21:15.233 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 812.8164ms
2025-10-31 11:21:48.048 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116
2025-10-31 11:21:48.075 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:21:48.170 -03:00 [INF] CORS policy execution successful.
2025-10-31 11:21:48.242 -03:00 [INF] Executing endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:21:48.396 -03:00 [INF] Route matched with {action = "CrearUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearUsuario(BlumeAPI.Usuario) on controller UsuarioController (BlumeAPI).
2025-10-31 11:21:52.901 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:21:55.806 -03:00 [ERR] Failed executing DbCommand (467ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "USUARIO" ("APELLIDO", "CONTRASENIA", "NOMBRE", "ROL", "USERNAME")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "ID_USUARIO";
2025-10-31 11:21:56.149 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna «ID_USUARIO» de la relación «USUARIO» viola la restricción de no nulo

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna «ID_USUARIO» de la relación «USUARIO» viola la restricción de no nulo
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: USUARIO
    ColumnName: ID_USUARIO
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna «ID_USUARIO» de la relación «USUARIO» viola la restricción de no nulo

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna «ID_USUARIO» de la relación «USUARIO» viola la restricción de no nulo
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: USUARIO
    ColumnName: ID_USUARIO
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-10-31 11:29:49.696 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:29:50.305 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:29:50.321 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:29:50.323 -03:00 [INF] Hosting environment: Development
2025-10-31 11:29:50.323 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:30:00.854 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/index.html - -
2025-10-31 11:30:02.038 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/index.html - - - 200 - text/html;charset=utf-8 1206.3444ms
2025-10-31 11:30:02.479 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - -
2025-10-31 11:30:03.741 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1261.8911ms
2025-10-31 11:30:34.185 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116
2025-10-31 11:30:34.211 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:30:34.340 -03:00 [INF] CORS policy execution successful.
2025-10-31 11:30:34.424 -03:00 [INF] Executing endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:30:34.592 -03:00 [INF] Route matched with {action = "CrearUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearUsuario(BlumeAPI.Usuario) on controller UsuarioController (BlumeAPI).
2025-10-31 11:30:40.784 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:30:43.473 -03:00 [INF] Executed DbCommand (390ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "USUARIO" ("APELLIDO", "CONTRASENIA", "NOMBRE", "ROL", "USERNAME")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "ID_USUARIO";
2025-10-31 11:30:43.875 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BlumeAPI.Usuario'.
2025-10-31 11:30:44.081 -03:00 [INF] Executed action UsuarioController.CrearUsuario (BlumeAPI) in 9468.1418ms
2025-10-31 11:30:44.089 -03:00 [INF] Executed endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:30:44.132 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116 - 201 - application/json;+charset=utf-8 9946.4128ms
2025-10-31 11:32:47.420 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:7166/api/Usuario/1 - -
2025-10-31 11:32:47.449 -03:00 [INF] CORS policy execution successful.
2025-10-31 11:32:47.451 -03:00 [INF] Executing endpoint 'UsuarioController.EliminarUsuario (BlumeAPI)'
2025-10-31 11:32:47.464 -03:00 [INF] Route matched with {action = "EliminarUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarUsuario(Int32) on controller UsuarioController (BlumeAPI).
2025-10-31 11:32:47.679 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:32:49.759 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."ID_USUARIO" = @__p_0
LIMIT 1
2025-10-31 11:32:49.877 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "USUARIO"
WHERE "ID_USUARIO" = @p0;
2025-10-31 11:32:49.915 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-31 11:32:49.916 -03:00 [INF] Executed action UsuarioController.EliminarUsuario (BlumeAPI) in 2451.5423ms
2025-10-31 11:32:49.916 -03:00 [INF] Executed endpoint 'UsuarioController.EliminarUsuario (BlumeAPI)'
2025-10-31 11:32:49.916 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:7166/api/Usuario/1 - - - 204 - - 2499.5580ms
2025-10-31 11:33:57.188 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 11:33:57.882 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 11:33:57.905 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 11:33:57.907 -03:00 [INF] Hosting environment: Development
2025-10-31 11:33:57.907 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 11:34:07.669 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116
2025-10-31 11:34:07.777 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 11:34:07.901 -03:00 [INF] CORS policy execution successful.
2025-10-31 11:34:07.975 -03:00 [INF] Executing endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:34:08.131 -03:00 [INF] Route matched with {action = "CrearUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearUsuario(BlumeAPI.Usuario) on controller UsuarioController (BlumeAPI).
2025-10-31 11:34:14.177 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:34:17.416 -03:00 [INF] Executed DbCommand (437ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "USUARIO" ("APELLIDO", "CONTRASENIA", "NOMBRE", "ROL", "USERNAME")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "ID_USUARIO";
2025-10-31 11:34:17.818 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BlumeAPI.Usuario'.
2025-10-31 11:34:18.130 -03:00 [INF] Executed action UsuarioController.CrearUsuario (BlumeAPI) in 9977.4047ms
2025-10-31 11:34:18.135 -03:00 [INF] Executed endpoint 'UsuarioController.CrearUsuario (BlumeAPI)'
2025-10-31 11:34:18.187 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/Usuario application/json 116 - 201 - application/json;+charset=utf-8 10540.2362ms
2025-10-31 11:38:51.625 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Usuario - -
2025-10-31 11:38:51.693 -03:00 [INF] Executing endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:38:51.699 -03:00 [INF] Route matched with {action = "GetUsuarios", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsuarios() on controller UsuarioController (BlumeAPI).
2025-10-31 11:38:51.895 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:38:53.044 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
2025-10-31 11:38:53.113 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BlumeAPI.Usuario, BlumeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-31 11:38:53.147 -03:00 [INF] Executed action UsuarioController.GetUsuarios (BlumeAPI) in 1448.3334ms
2025-10-31 11:38:53.148 -03:00 [INF] Executed endpoint 'UsuarioController.GetUsuarios (BlumeAPI)'
2025-10-31 11:38:53.148 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Usuario - - - 200 - application/json;+charset=utf-8 1523.2352ms
2025-10-31 11:39:06.690 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Usuario/2 - -
2025-10-31 11:39:06.701 -03:00 [INF] Executing endpoint 'UsuarioController.GetUsuario (BlumeAPI)'
2025-10-31 11:39:06.708 -03:00 [INF] Route matched with {action = "GetUsuario", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsuario(Int32) on controller UsuarioController (BlumeAPI).
2025-10-31 11:39:06.761 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 11:39:07.673 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."ID_USUARIO" = @__p_0
LIMIT 1
2025-10-31 11:39:07.674 -03:00 [INF] Executing OkObjectResult, writing value of type 'BlumeAPI.Usuario'.
2025-10-31 11:39:07.674 -03:00 [INF] Executed action UsuarioController.GetUsuario (BlumeAPI) in 966.1366ms
2025-10-31 11:39:07.674 -03:00 [INF] Executed endpoint 'UsuarioController.GetUsuario (BlumeAPI)'
2025-10-31 11:39:07.674 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Usuario/2 - - - 200 - application/json;+charset=utf-8 984.1578ms
2025-10-31 12:15:35.249 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:15:35.418 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:15:35.455 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 216.7287ms
2025-10-31 12:15:44.118 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:15:44.125 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:15:44.126 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 8.0691ms
2025-10-31 12:23:18.327 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Auth/login application/json 50
2025-10-31 12:23:18.332 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:23:18.348 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:23:18.467 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:23:18.595 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:23:18.912 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:23:19.862 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:23:19.863 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:23:19.916 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 1448.5929ms
2025-10-31 12:23:19.916 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:23:19.916 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/Auth/login application/json 50 - 200 - application/json;+charset=utf-8 1590.4446ms
2025-10-31 12:25:24.703 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 12:25:25.589 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 12:25:25.610 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 12:25:25.612 -03:00 [INF] Hosting environment: Development
2025-10-31 12:25:25.613 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 12:25:40.492 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:25:40.605 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 12:25:40.771 -03:00 [INF] No CORS policy found for the specified request.
2025-10-31 12:25:40.843 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-31 12:25:40.844 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-31 12:25:40.897 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 405 0 - 425.9737ms
2025-10-31 12:25:54.180 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:25:54.193 -03:00 [INF] No CORS policy found for the specified request.
2025-10-31 12:25:54.194 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-31 12:25:54.194 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-31 12:25:54.194 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 405 0 - 14.9454ms
2025-10-31 12:29:20.541 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-31 12:29:21.163 -03:00 [INF] Now listening on: http://0.0.0.0:7166
2025-10-31 12:29:21.182 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-31 12:29:21.184 -03:00 [INF] Hosting environment: Development
2025-10-31 12:29:21.185 -03:00 [INF] Content root path: G:\Desa\programa\bd\
2025-10-31 12:29:43.800 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:29:43.996 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:44.051 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 270.1603ms
2025-10-31 12:29:44.385 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:44.398 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:44.470 -03:00 [WRN] Failed to determine the https port for redirect.
2025-10-31 12:29:44.551 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:44.730 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:49.505 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:51.565 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:29:51.567 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:51.568 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 2.7997ms
2025-10-31 12:29:51.882 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:51.882 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:51.885 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:51.885 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:51.892 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:53.099 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:53.100 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:53.124 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:53.124 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:53.361 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:53.440 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:53.440 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:53.440 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:53.441 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:53.442 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:53.587 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:53.588 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:53.588 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:53.588 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:53.590 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:53.623 -03:00 [INF] Executed DbCommand (464ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:53.623 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:53.623 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:53.623 -03:00 [INF] Executed DbCommand (464ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:53.726 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:53.728 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:53.735 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:53.735 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:53.741 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:53.773 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:53.910 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.191 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.231 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:55.476 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 3561.2477ms
2025-10-31 12:29:55.476 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 2322.4496ms
2025-10-31 12:29:55.480 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.476 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 1711.2052ms
2025-10-31 12:29:55.476 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 1858.4864ms
2025-10-31 12:29:55.477 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 2005.8033ms
2025-10-31 12:29:55.476 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 10716.1844ms
2025-10-31 12:29:55.480 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.481 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.481 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.481 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.481 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 1804.4187ms
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 11146.5027ms
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 3648.7819ms
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 1943.6939ms
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 2091.1206ms
2025-10-31 12:29:55.531 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 2431.6322ms
2025-10-31 12:29:55.542 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:55.542 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:29:55.542 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:55.542 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:29:55.542 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.543 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:55.543 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:55.543 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:29:55.544 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:55.545 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:29:55.548 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:55.548 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:29:56.409 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:56.410 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:56.410 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 867.6778ms
2025-10-31 12:29:56.411 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:56.412 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 869.9181ms
2025-10-31 12:29:56.426 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:29:56.426 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:29:56.427 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 883.8066ms
2025-10-31 12:29:56.427 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:29:56.427 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 885.4916ms
2025-10-31 12:30:49.938 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 12:30:49.938 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:30:49.938 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 0.5477ms
2025-10-31 12:30:50.258 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 12:30:50.258 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:30:50.258 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:30:50.259 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:30:50.265 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 12:30:50.267 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 12:30:51.070 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 12:30:51.071 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:30:51.071 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 812.0143ms
2025-10-31 12:30:51.071 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 12:30:51.071 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 813.3071ms
2025-10-31 12:36:10.250 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Auth/me - -
2025-10-31 12:36:10.322 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:36:10.342 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:36:10.346 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:36:10.393 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 50.7852ms
2025-10-31 12:36:10.393 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:36:10.393 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Auth/me - - - 200 - application/json;+charset=utf-8 148.4134ms
2025-10-31 12:51:18.774 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:51:18.797 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:51:18.926 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:18.927 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:51:18.934 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:51:18.936 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 8.8108ms
2025-10-31 12:51:18.936 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:18.936 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 165.0673ms
2025-10-31 12:51:54.637 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:51:54.637 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:51:54.655 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:54.655 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:51:54.656 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:51:54.656 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 1.1946ms
2025-10-31 12:51:54.657 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:54.657 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 20.3353ms
2025-10-31 12:51:57.125 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:51:57.125 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:51:57.126 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:57.126 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:51:57.126 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:51:57.126 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.6149ms
2025-10-31 12:51:57.127 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:51:57.127 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 2.0967ms
2025-10-31 12:52:06.843 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:52:06.843 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:52:06.844 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:52:06.845 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:52:06.845 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:52:06.845 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.7664ms
2025-10-31 12:52:06.846 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:52:06.846 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 2.7240ms
2025-10-31 12:52:09.084 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:52:09.085 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:52:09.085 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:52:09.086 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:52:09.086 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:52:09.086 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.6084ms
2025-10-31 12:52:09.086 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:52:09.086 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 2.1828ms
2025-10-31 12:54:42.708 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:54:42.739 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:54:42.745 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:42.745 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:54:42.746 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:54:42.747 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 1.1777ms
2025-10-31 12:54:42.747 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:42.747 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 43.2715ms
2025-10-31 12:54:46.039 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:54:46.039 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:54:46.040 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:46.040 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:54:46.041 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:54:46.041 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.6094ms
2025-10-31 12:54:46.041 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:46.041 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 2.2237ms
2025-10-31 12:54:54.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Auth/me - -
2025-10-31 12:54:54.716 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:54.716 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:54:54.717 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:54:54.717 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.5947ms
2025-10-31 12:54:54.717 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:54.717 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Auth/me - - - 200 - application/json;+charset=utf-8 2.0401ms
2025-10-31 12:54:58.247 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Auth/me - -
2025-10-31 12:54:58.248 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:58.248 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:54:58.249 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:54:58.249 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.5575ms
2025-10-31 12:54:58.249 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 12:54:58.249 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Auth/me - - - 200 - application/json;+charset=utf-8 1.7587ms
2025-10-31 12:55:40.396 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/Auth/logout - 0
2025-10-31 12:55:40.402 -03:00 [INF] CORS policy execution failed.
2025-10-31 12:55:40.412 -03:00 [INF] Request origin http://localhost:7166 does not have permission to access the resource.
2025-10-31 12:55:40.412 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Logout (BlumeAPI)'
2025-10-31 12:55:40.479 -03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 12:55:40.545 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed out.
2025-10-31 12:55:40.546 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 12:55:40.560 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Logout (BlumeAPI) in 80.6166ms
2025-10-31 12:55:40.560 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Logout (BlumeAPI)'
2025-10-31 12:55:40.561 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/Auth/logout - 0 - 200 - application/json;+charset=utf-8 166.3349ms
2025-10-31 12:55:50.556 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/Auth/me - -
2025-10-31 12:55:50.582 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-31 12:55:50.641 -03:00 [INF] AuthenticationScheme: MiCookieAuth was challenged.
2025-10-31 12:55:50.642 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/Auth/me - - - 302 0 - 85.9846ms
2025-10-31 12:55:50.650 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2FAuth%2Fme - -
2025-10-31 12:55:50.651 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-31 12:55:50.654 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-31 12:55:50.654 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2FAuth%2Fme - - - 405 0 - 3.6820ms
2025-10-31 12:55:58.609 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 12:55:58.609 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:55:58.614 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-31 12:55:58.616 -03:00 [INF] AuthenticationScheme: MiCookieAuth was challenged.
2025-10-31 12:55:58.616 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 302 0 - 7.4538ms
2025-10-31 12:55:58.626 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2Fauth%2Fme - -
2025-10-31 12:55:58.626 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:55:58.626 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-31 12:55:58.626 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-31 12:55:58.627 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2Fauth%2Fme - - - 405 0 - 0.8900ms
2025-10-31 12:56:01.983 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/Cliente/GetClientes - -
2025-10-31 12:56:01.983 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/Articulo/GetArticulosPrecio - -
2025-10-31 12:56:01.985 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:56:01.985 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:56:01.986 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.ArticuloController.GetArticuloPrecio (BlumeAPI)'
2025-10-31 12:56:01.986 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.ClienteController.Get (BlumeAPI)'
2025-10-31 12:56:01.992 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/Presupuesto/GetEstadosPresupuesto - -
2025-10-31 12:56:01.993 -03:00 [INF] CORS policy execution successful.
2025-10-31 12:56:01.993 -03:00 [INF] Route matched with {action = "Get", controller = "Cliente"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[Cliente] Get() on controller BlumeAPI.Controllers.ClienteController (BlumeAPI).
2025-10-31 12:56:01.993 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.PresupuestoController.GetEstadosPresupuesto (BlumeAPI)'
2025-10-31 12:56:01.993 -03:00 [INF] Route matched with {action = "GetArticuloPrecio", controller = "Articulo"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[ArticuloPrecio] GetArticuloPrecio() on controller BlumeAPI.Controllers.ArticuloController (BlumeAPI).
2025-10-31 12:56:01.997 -03:00 [INF] Route matched with {action = "GetEstadosPresupuesto", controller = "Presupuesto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEstadosPresupuesto() on controller BlumeAPI.Controllers.PresupuestoController (BlumeAPI).
2025-10-31 12:56:02.449 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EstadoPresupuesto, BlumeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-31 12:56:02.476 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArticuloPrecio, BlumeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-31 12:56:02.524 -03:00 [INF] Executed action BlumeAPI.Controllers.PresupuestoController.GetEstadosPresupuesto (BlumeAPI) in 527.4352ms
2025-10-31 12:56:02.524 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.PresupuestoController.GetEstadosPresupuesto (BlumeAPI)'
2025-10-31 12:56:02.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/Presupuesto/GetEstadosPresupuesto - - - 200 - application/json;+charset=utf-8 532.4102ms
2025-10-31 12:56:02.567 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cliente, BlumeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-31 12:56:02.613 -03:00 [INF] Executed action BlumeAPI.Controllers.ArticuloController.GetArticuloPrecio (BlumeAPI) in 620.1957ms
2025-10-31 12:56:02.614 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.ArticuloController.GetArticuloPrecio (BlumeAPI)'
2025-10-31 12:56:02.614 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/Articulo/GetArticulosPrecio - - - 200 - application/json;+charset=utf-8 630.6278ms
2025-10-31 12:56:02.704 -03:00 [INF] Executed action BlumeAPI.Controllers.ClienteController.Get (BlumeAPI) in 711.531ms
2025-10-31 12:56:02.706 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.ClienteController.Get (BlumeAPI)'
2025-10-31 12:56:02.706 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/Cliente/GetClientes - - - 200 - application/json;+charset=utf-8 722.9005ms
2025-10-31 13:00:14.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 13:00:14.931 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:00:14.951 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-31 13:00:14.951 -03:00 [INF] AuthenticationScheme: MiCookieAuth was challenged.
2025-10-31 13:00:14.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 302 0 - 31.6010ms
2025-10-31 13:00:14.956 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2Fauth%2Fme - -
2025-10-31 13:00:14.956 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:00:14.957 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-31 13:00:14.957 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-31 13:00:14.957 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/login?ReturnUrl=%2Fapi%2Fauth%2Fme - - - 405 0 - 0.6399ms
2025-10-31 13:00:19.663 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - -
2025-10-31 13:00:19.663 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:00:19.667 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7166/api/auth/login - - - 204 - - 3.8805ms
2025-10-31 13:00:19.987 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41
2025-10-31 13:00:19.987 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:00:19.987 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 13:00:19.987 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BlumeAPI.Models.UsuarioLoginRequest) on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 13:00:20.041 -03:00 [INF] Entity Framework Core 6.0.22 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.9+8a11c486e9101a88b36d398723638d274aadb2f1' with options: None
2025-10-31 13:00:20.325 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__nombreUsuario_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."ID_USUARIO", u."APELLIDO", u."CONTRASENIA", u."NOMBRE", u."ROL", u."USERNAME"
FROM "USUARIO" AS u
WHERE u."USERNAME" = @__nombreUsuario_0
LIMIT 1
2025-10-31 13:00:21.262 -03:00 [INF] AuthenticationScheme: MiCookieAuth signed in.
2025-10-31 13:00:21.262 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 13:00:21.262 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Login (BlumeAPI) in 1274.8434ms
2025-10-31 13:00:21.263 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Login (BlumeAPI)'
2025-10-31 13:00:21.263 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:7166/api/auth/login application/json 41 - 200 - application/json;+charset=utf-8 1276.4352ms
2025-10-31 13:00:26.386 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 13:00:26.386 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:00:26.387 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 13:00:26.387 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 13:00:26.388 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 13:00:26.388 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 0.849ms
2025-10-31 13:00:26.388 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 13:00:26.389 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 2.3499ms
2025-10-31 13:01:15.028 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:7166/api/auth/me - -
2025-10-31 13:01:15.028 -03:00 [INF] CORS policy execution successful.
2025-10-31 13:01:15.029 -03:00 [INF] Executing endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 13:01:15.029 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller BlumeAPI.Controllers.AuthController (BlumeAPI).
2025-10-31 13:01:15.030 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-31 13:01:15.031 -03:00 [INF] Executed action BlumeAPI.Controllers.AuthController.Me (BlumeAPI) in 1.6375ms
2025-10-31 13:01:15.031 -03:00 [INF] Executed endpoint 'BlumeAPI.Controllers.AuthController.Me (BlumeAPI)'
2025-10-31 13:01:15.031 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:7166/api/auth/me - - - 200 - application/json;+charset=utf-8 3.1604ms
